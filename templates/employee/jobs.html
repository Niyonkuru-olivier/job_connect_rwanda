<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Browse Jobs — HireMe Rwanda</title>
  <style>
    body { font-family: Inter, sans-serif; background:#f8f8f8; margin:0; }
    .navbar {
      display:flex;
      justify-content:space-between;
      align-items:center;
      background:white;
      padding:18px 30px;
      box-shadow:0 2px 8px rgba(0,0,0,0.06);
    }
    .logo { font-size:1.3rem; font-weight:700; color:#00a859; }
    .nav-links a {
      margin-left:16px;
      text-decoration:none;
      color:#333;
      font-weight:500;
    }

    .search-bar {
      display:flex;
      justify-content:center;
      gap:12px;
      padding:30px;
      background:white;
      box-shadow:0 2px 8px rgba(0,0,0,0.04);
    }
    .search-bar input, .search-bar select {
      padding:10px 14px;
      border:1px solid #ccc;
      border-radius:6px;
      width:220px;
    }
    .search-bar button {
      background:#00a859;
      color:white;
      border:none;
      padding:10px 18px;
      border-radius:6px;
      cursor:pointer;
      font-weight:600;
    }
    .search-bar button:hover { background:#00914d; }

    .container {
      max-width:1000px;
      margin:40px auto;
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(300px,1fr));
      gap:20px;
      padding:0 20px;
    }

    .job-card {
      background:white;
      border-radius:10px;
      padding:20px;
      box-shadow:0 4px 12px rgba(0,0,0,0.08);
      transition:transform 0.2s ease;
    }
    .job-card:hover { transform:translateY(-4px); }

    .job-card h3 { margin:0; color:#00a859; font-size:1.2rem; }
    .company { color:#333; font-weight:600; margin-top:6px; }
    .meta { color:#777; font-size:0.9rem; margin-top:4px; }
    .salary { margin-top:6px; color:#00914d; font-weight:600; }

    .actions { margin-top:14px; }
    .actions a {
      text-decoration:none;
      background:#00a859;
      color:white;
      padding:8px 14px;
      border-radius:6px;
      font-weight:500;
    }
    .actions a:hover { background:#00914d; }

    footer {
      text-align:center;
      color:#888;
      padding:20px;
      font-size:0.9rem;
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">HireMe Rwanda</div>
    <div class="nav-links">
      <a href="{{ url_for('employee_dashboard') }}">Dashboard</a>
      <a href="{{ url_for('employee_profile') }}">Profile</a>
      <a href="{{ url_for('upload_documents') }}">Documents</a>
      <a href="{{ url_for('logout') }}">Logout</a>
    </div>
  </nav>

  <!-- Search Bar -->
  <form class="search-bar" method="GET" action="{{ url_for('browse_jobs') }}">
    <input type="text" name="q" placeholder="Search by job title or keyword" value="{{ request.args.get('q', '') }}">
    <select name="location">
      <option value="">All Locations</option>
      <option value="Kigali" {% if request.args.get('location')=='Kigali' %}selected{% endif %}>Kigali</option>
      <option value="Musanze" {% if request.args.get('location')=='Musanze' %}selected{% endif %}>Musanze</option>
      <option value="Huye" {% if request.args.get('location')=='Huye' %}selected{% endif %}>Huye</option>
      <option value="Rubavu" {% if request.args.get('location')=='Rubavu' %}selected{% endif %}>Rubavu</option>
    </select>
    <select name="type">
      <option value="">All Types</option>
      <option value="FULL_TIME" {% if request.args.get('type')=='FULL_TIME' %}selected{% endif %}>Full Time</option>
      <option value="PART_TIME" {% if request.args.get('type')=='PART_TIME' %}selected{% endif %}>Part Time</option>
      <option value="CONTRACT" {% if request.args.get('type')=='CONTRACT' %}selected{% endif %}>Contract</option>
    </select>
    <button type="submit">Search</button>
  </form>

  <!-- Job Listings -->
  <div class="container">
    {% if jobs %}
      {% for job in jobs %}
      <div class="job-card">
        <h3>{{ job.title }}</h3>
        <div class="company">{{ job.company.name }}</div>
        <div class="meta">{{ job.location }} • {{ job.type.replace('_',' ').title() }}</div>
        <div class="salary">Salary: {{ job.salary or 'Not Specified' }}</div>
        <div class="actions">
          <a href="{{ url_for('apply_job', job_id=job.id) }}">Apply</a>
        </div>
      </div>
      {% endfor %}
    {% else %}
      <p style="text-align:center; grid-column:1/-1;">No jobs found.</p>
    {% endif %}
  </div>

  <footer>© 2025 HireMe Rwanda. All Rights Reserved.</footer>

</body>
</html>
