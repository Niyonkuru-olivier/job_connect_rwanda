<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Announcements — Admin</title>
  <style>
    body { font-family:Arial,Helvetica,sans-serif; background:#f5f7f7; margin:0; color:#222; }
    .container { max-width:800px; margin:30px auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
    form { margin-bottom:20px; }
    input, textarea { width:100%; padding:10px; margin-bottom:10px; border:1px solid #ccc; border-radius:6px; }
    button { background:#00a859; color:#fff; border:none; padding:10px 16px; border-radius:6px; cursor:pointer; }
    .ann { border:1px solid #ddd; padding:10px; border-radius:6px; margin-bottom:10px; }
    a.delete { color:#ff4d4d; float:right; text-decoration:none; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Manage Announcements</h1>
    <form method="POST">
      <input name="title" placeholder="Announcement title" required>
      <textarea name="content" rows="4" placeholder="Write announcement..." required></textarea>
      <button type="submit">Publish</button>
    </form>

    {% for a in announcements %}
      <div class="ann">
        <strong>{{ a.title }}</strong>
        <a href="{{ url_for('delete_announcement', ann_id=a.id) }}" class="delete" onclick="return confirm('Delete this?')">✖</a>
        <p>{{ a.content }}</p>
        <small>Posted: {{ a.created_at.strftime('%Y-%m-%d %H:%M') }}</small>
      </div>
    {% else %}
      <p>No announcements yet.</p>
    {% endfor %}

    <p><a href="{{ url_for('admin_dashboard') }}">← Back to Dashboard</a></p>
  </div>
</body>
</html>
